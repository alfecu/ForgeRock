-- -----------------------------------------------------
-- Table openidm.importobjects
-- -----------------------------------------------------

CREATE TABLESPACE SOIDM39 MANAGED BY AUTOMATIC STORAGE;
CREATE  TABLE SOPENIDM.IMPORTOBJECTS (
    ID                        INTEGER GENERATED BY DEFAULT AS IDENTITY ( CYCLE ),
  OBJECTTYPES_ID             INTEGER        NOT NULL,
  OBJECTID                   VARCHAR(255)   NOT NULL,
  REV                        VARCHAR(38)    NOT NULL,
  FULLOBJECT                 CLOB(2M),
  PRIMARY KEY (ID),
  CONSTRAINT FK_IMPORTOBJECTS_OBJECTTYPES
  FOREIGN KEY (OBJECTTYPES_ID )
  REFERENCES SOPENIDM.OBJECTTYPES (ID )
  ON DELETE CASCADE
) IN DOPENIDM.SOIDM39;

-- -----------------------------------------------------
-- Table openidm.importobjectproperties
-- -----------------------------------------------------

CREATE TABLESPACE SOIDM40 MANAGED BY AUTOMATIC STORAGE;
CREATE TABLE SOPENIDM.IMPORTOBJECTPROPERTIES (
  IMPORTOBJECTS_ID           INTEGER        NOT NULL,
  PROPKEY                    VARCHAR(255)   NOT NULL,
  PROPTYPE                   VARCHAR(255),
  PROPVALUE                  VARCHAR(2000),
  PRIMARY KEY (IMPORTOBJECTS_ID, PROPKEY),
  CONSTRAINT FK_IMPORTOBJECTPROPERTIES_IMPORTOBJECTS
  FOREIGN KEY (IMPORTOBJECTS_ID )
  REFERENCES SOPENIDM.IMPORTOBJECTS (ID )
  ON DELETE CASCADE
) IN DOPENIDM.SOIDM40;
COMMENT ON TABLE SOPENIDM.IMPORTOBJECTPROPERTIES IS 'OPENIDM - Properties of Import Objects';
CREATE INDEX SOPENIDM.IDX_IMPORTOBJECTPROPERTIES_IMPORTOBJECTS ON SOPENIDM.IMPORTOBJECTPROPERTIES (IMPORTOBJECTS_ID ASC);
CREATE INDEX SOPENIDM.IDX_IMPORTOBJECTPROPERTIES_PROPKEY ON SOPENIDM.IMPORTOBJECTPROPERTIES (PROPKEY ASC);
CREATE INDEX SOPENIDM.IDX_IMPORTOBJECTPROPERTIES_PROPVALUE ON SOPENIDM.IMPORTOBJECTPROPERTIES (PROPVALUE ASC);
